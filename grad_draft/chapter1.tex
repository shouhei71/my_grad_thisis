\chapter{序論}
%\pagenumbering{arabic}  %% ページ番号をアラビア数字に変更

\section{本研究の背景}
近年、ネットワークを通じて計算資源を利用するクラウドコンピューティングが重要性を増している。
その中でも、Google Storage for Developers \cite{google_storage}、Amazon S3 \cite{S3}やWindows Azure ストレージ \cite{azure}をはじめとしたペタバイト級の大量のデータを保存するストレージタイプのクラウドに注目が集まる。

クラウドストレージの必要要件として、1)サービスを安定的に提供すること、2)増加し続ける大量のデータを効率よく処理することの2つが挙げられる。
1)サービスを安定的に継続するのためには、システムの一部が故障を起こしても、システムの外部から故障を隠蔽し、正常に動作しているように振舞わなければならない。
一方、クラウドのように大量のノードで構成されるシステムにおいて故障は常である。
そこで、故障が起きている状況をあらかじめ想定したシステムが必要である。
2)増加し続ける大量のデータを効率よく処理するためには、ノードの台数に応じてスループットがスケールアウトできるアーキテクチャを採用することが必要である。

そこで、特に注目を集めているのが、 Amazon Dynamo \cite{Dynamo}、Apache Cassandra \cite{Cassandra} をはじめとした非集中型クラウドストレージである。
非集中型クラウドストレージとは、構成するすべてのノードが対等の機能をもつクラウドストレージのことである。
非集中型クラウドストレージの一つ目の大きな利点は、単一故障点がないことである。単一故障点がないとは、ある部位が故障するとシステム全体が故障してしまうような部位が存在しないことである。
非集中型クラウドストレージにはこのような部位はなく、安定したサービスを提供することにつながる。
二つ目は、負荷が自動的に分散されることである。
これはスケールアウトできるアーキテクチャであることを指している。
その一方で、メンバーシップ管理などを各ノードが行う必要がある。

このような非集中なクラウドストレージにおいて、任意のノードからデータを保持する担当ノードにリクエストを到達させる (以後、ルーティングと呼ぶ) ためには、各ノードが他のノードを把握する必要がある。
ルーティングの方針として大きく分けて、2つのパターンがある。
担当ノードにリクエストを到達させるまでに、別のノードを経由させることを認めるかどうかである。
前者のルーティング方式をマルチホップ、後者をシングルホップと呼ぶ。 
特に、シングルホップ方式のクラウドストレージでは、全ノードがシステム全体の最新の状態を保持する必要があり、整合性を保つことが難しい。
例えば、もし古い情報をもとにルーティングを行い、誤って別のノードにリクエストを送信した場合、リクエストは適切に処理されないことになる。
そこで、gossipプロトコルをベースとしたメンバーシップ管理を行うプロトコルが取り入れられ、全ノードがシステム全体の最新の状態を保持することが可能である。gossipプロトコルとは、ソーシャルネットワークで見られる噂 (ゴシップ) の伝搬をモデルとしたプロトコルである。

\section{本研究の目的}
非集中型クラウドストレージにてgossipプロトコルをベースとしたメンバーシップ管理を行うプロトコルが取り入れられ、全ノードがシステム全体の最新の状態を保持することが可能である。

しかし、このような管理方法では、全ノードで定期的に通信を行うため、ノード数が増えるにつれ総通信量が増加し、本来の目的であるデ ータの読み書き性能の低下や、メンバーシップの整合性が損なわれるなどの問題が発生する。その結果、システムのスケーラビリティを制約する要因となりうる。	
しかしながら、非集中型クラウドストレージにおいて、この管理を行う処理がどの程度の通信負荷をもたらすのかといったことは知られていない。

そこで本研究では、gossipプロトコルを用いる Cassandraを対象として、ノード数に応じてシステム全体の通信負荷がどのように変化するのかを計測・考察する。
\section{本研究の成果}
gossipプロトコル を用いる Cassandraを対象として、ノード数に応じたシステム全体の通信量を計測した。その結果、システム全体で発生する通信量を定量的に計測することができ、ノード数を$ｎ$として通信量はO($n^2$)で増加することがわかった。またクラスタ設計時に、gossipプロトコルベースのメンバーシップ管理による通信量を見積もることができる。特に2つのデータセンターをまたぐリンクにおいてO($n^2$) で通信量が増加し、単純なgossipプロトコルではスケーラビリティの制約になりうることがわかった。

\section{本論文の構成}
本論文の残りは、次のような構成からなっている。\\
第 2 章は 研究背景として分散システムのアベイラビリティを確保するための故障検知の重要性について説明する。\\
第 3 章では、関連研究としてgossipプロトコルを応用したマルチキャストやブロードキャストの提案・評価を行った論文を挙げる。\\
第 4 章では、gossipプロトコルとその応用であるScuttlebuttについて説明する。\\
第 5 章では、実験で使用するCassandraについて説明する。\\
第 6 章では、Cassandraの軽量化と通信測定の手法を説明する。\\
第 7 章では、実験とその評価を行う。\\
第 8 章では、結論としてまとめと今後の課題を述べる。\\
